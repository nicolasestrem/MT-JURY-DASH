jQuery(document).ready(function(i){function t(){i(".mt-criterion-card, .mt-sidebar-card, .mt-overview-section").each(function(){var t=i(this).offset().top,e=t+i(this).outerHeight(),o=i(window).scrollTop(),n=o+i(window).height();o<e&&t<n-100&&i(this).addClass("animate-in")})}var o,n,a,s,r;i('a[href^="#"]').on("click",function(t){var e=i(this.hash);e.length&&(t.preventDefault(),i("html, body").animate({scrollTop:e.offset().top-100},500,"swing"))}),i(window).on("scroll",t),t(),i(".mt-photo-frame").on("mouseenter",function(){i(this).addClass("hover-effect")}).on("mouseleave",function(){i(this).removeClass("hover-effect")}),i(".mt-hero-section").length&&i(window).on("scroll",function(){var t=i(window).scrollTop();i(".mt-hero-pattern").css({transform:"translateY("+.5*t+"px)"})}),i(".mt-social-link").on("click",function(t){var e=i(this),o=i('<span class="ripple"></span>'),n=(e.append(o),t.pageX-e.offset().left),t=t.pageY-e.offset().top;o.css({left:n+"px",top:t+"px"}),setTimeout(function(){o.remove()},600)}),i(".mt-sidebar").length&&968<i(window).width()&&(o=i(".mt-sidebar"),n=o.offset().top,a=i("footer").length?i("footer").offset().top:i(document).height(),i(window).on("scroll",function(){var t=i(window).scrollTop(),e=o.outerHeight();i(window).height();n-100<t?t+e+100<a?o.css({position:"fixed",top:"100px",width:o.parent().width()}):o.css({position:"absolute",top:a-e-n+"px",width:o.parent().width()}):o.css({position:"static",width:"auto"})})),"IntersectionObserver"in window&&(s=new IntersectionObserver(function(t,e){t.forEach(function(t){t.isIntersecting&&(t=t.target).dataset.src&&(t.src=t.dataset.src,t.classList.add("loaded"),s.unobserve(t))})}),i("img[data-src]").each(function(){s.observe(this)})),i.fn.tooltip?i(".mt-criterion-icon").each(function(){var t=i(this),e=t.siblings(".mt-criterion-title").text();t.attr("title",e).tooltip({position:{my:"center bottom-10",at:"center top"},classes:{"ui-tooltip":"mt-tooltip"}})}):i(".mt-criterion-icon").each(function(){var t=i(this),e=t.siblings(".mt-criterion-title").text();t.attr("title",e)}),i(".mt-evaluation-form").length&&(r=i('<div class="mt-save-indicator"><span class="dashicons dashicons-yes"></span> Saved</div>'),i("body").append(r),i(document).ajaxComplete(function(t,e,o){o.url&&o.url.includes("mt_save_evaluation")&&(r.addClass("show"),setTimeout(function(){r.removeClass("show")},2e3))})),i(".mt-data-table").each(function(){var t=i(this);t.parent().hasClass("mt-table-wrapper")||t.wrap('<div class="mt-table-wrapper"></div>')}),window.addEventListener("beforeprint",function(){i(".mt-collapsible.collapsed").removeClass("collapsed"),i("*").css("animation","none"),i("*").css("transition","none")}),window.addEventListener("afterprint",function(){i(".mt-collapsible[data-was-collapsed]").addClass("collapsed")}),i("#skip-to-content").length||i("body").prepend('<a href="#main-content" id="skip-to-content" class="sr-only">Skip to content</a>'),i(".mt-score-slider").on("keydown",function(t){var e=i(this),o=parseFloat(e.val());"ArrowUp"===t.key||"ArrowRight"===t.key?(t.preventDefault(),e.val(Math.min(10,o+.5)).trigger("change")):"ArrowDown"!==t.key&&"ArrowLeft"!==t.key||(t.preventDefault(),e.val(Math.max(0,o-.5)).trigger("change"))}),i(".mt-modal").on("shown",function(){i(this).find(":focusable:first").focus()}),window.performance&&window.performance.timing&&window.addEventListener("load",function(){var t=window.performance.timing;t.loadEventEnd})}),(()=>{var t=document.createElement("style");t.textContent=`
        /* Save Indicator */
        .mt-save-indicator {
            position: fixed;
            top: 20px;
            right: -200px;
            background: #4caf50;
            color: white;
            padding: 10px 20px;
            border-radius: 4px;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: right 0.3s ease;
            z-index: 9999;
        }
        .mt-save-indicator.show {
            right: 20px;
        }
        /* Ripple Effect */
        .ripple {
            position: absolute;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.5);
            transform: scale(0);
            animation: ripple-animation 0.6s ease-out;
            pointer-events: none;
        }
        @keyframes ripple-animation {
            to {
                transform: scale(4);
                opacity: 0;
            }
        }
        /* Skip to Content */
        #skip-to-content {
            position: absolute;
            left: -9999px;
            z-index: 999;
        }
        #skip-to-content:focus {
            position: fixed;
            top: 0;
            left: 0;
            background: #1f2937;
            color: white;
            padding: 8px 16px;
            text-decoration: none;
            z-index: 10000;
        }
        /* Table Wrapper */
        .mt-table-wrapper {
            overflow-x: auto;
            -webkit-overflow-scrolling: touch;
        }
        /* Tooltip Styles */
        .mt-tooltip {
            background: #1f2937;
            color: white;
            padding: 5px 10px;
            border-radius: 4px;
            font-size: 0.85rem;
        }
    `,document.head.appendChild(t)})();