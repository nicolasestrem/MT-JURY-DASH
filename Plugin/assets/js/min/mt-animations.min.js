(i=>{let e={config:{scrollOffset:100,parallaxSpeed:.5,observerThreshold:.1,animationClasses:["mtFadeIn","mtFadeInUp","mtFadeInDown","mtFadeInLeft","mtFadeInRight","mtZoomIn","mtZoomInBounce","mtRotateIn","mtFlipInX","mtFlipInY"]},init:function(){this.initScrollReveal(),this.initParallax(),this.initRippleEffect(),this.initImageEffects(),this.initStaggerAnimations(),this.initDynamicAnimations(),this.initPerformanceMonitor()},initScrollReveal:function(){var t=document.querySelectorAll(".mt-scroll-reveal");if(0!==t.length){var n={threshold:this.config.observerThreshold,rootMargin:"0px 0px -50px 0px"};let a=new IntersectionObserver(t=>{t.forEach(t=>{t.isIntersecting?(t.target.classList.add("mt-in-view"),i(t.target).trigger("mt:revealed"),"true"===t.target.dataset.revealOnce&&a.unobserve(t.target)):t.target.dataset.revealOnce||t.target.classList.remove("mt-in-view")})},n);t.forEach(t=>a.observe(t))}},initParallax:function(){let e=document.querySelectorAll(".mt-scroll-parallax");if(0!==e.length){let t=!1,a=()=>{let n=window.pageYOffset;e.forEach(t=>{var a=t.dataset.parallaxSpeed||this.config.parallaxSpeed,a=-n*a;t.style.setProperty("--parallax-offset",a+"px")}),t=!1};window.addEventListener("scroll",()=>{t||(requestAnimationFrame(a),t=!0)})}},initRippleEffect:function(){i(document).on("mousedown",".mt-ripple",function(t){var a=i(this),n=a.offset(),e=t.pageX-n.left;a.css({"--ripple-x":e+"px","--ripple-y":t.pageY-n.top+"px"})})},initImageEffects:function(){i(".mt-image-zoom img, .mt-image-blur-to-focus img, .mt-image-grayscale img").each(function(){var t=i(this);t[0].complete?t.addClass("loaded"):t.on("load",function(){i(this).addClass("loaded")})})},initStaggerAnimations:function(){i(".mt-stagger-children").each(function(){i(this).children().each(function(t){i(this).css("animation-delay",.05*t+"s")})})},initDynamicAnimations:function(){i(".mt-random-entrance").each(function(){var t=e.config.animationClasses,t=t[Math.floor(Math.random()*t.length)];i(this).addClass(t)}),i(".mt-chain-animation").each(function(){let t=i(this),a=(t.data("animations")||"mtFadeIn,mtPulse").split(","),n=0;var e=()=>{n>=a.length&&(n=0),t.removeClass(a.join(" ")),t.addClass(a[n]),n++};e(),setInterval(e,2e3)})},initPerformanceMonitor:function(){var t;window.performance&&window.performance.now&&((t=document.querySelectorAll('[class*="mt-animate"], [class*="mt-anim"]')).length,t.forEach(a=>{a.addEventListener("animationstart",t=>{a.dataset.animStart=performance.now()}),a.addEventListener("animationend",t=>{a.dataset.animStart&&(performance.now(),parseFloat(a.dataset.animStart),delete a.dataset.animStart)})}))},animate:function(t,a,n={}){let e=i(t);t=i.extend({},{duration:"normal",delay:0,callback:null},n);return this.config.animationClasses.forEach(t=>{e.removeClass(t)}),e.addClass("mt-anim-"+t.duration),0<t.delay&&e.css("animation-delay",t.delay+"s"),e.addClass(a),"function"==typeof t.callback&&e.one("animationend",t.callback),e},stopAnimation:function(t){let a=i(t);return this.config.animationClasses.forEach(t=>{a.removeClass(t)}),a.css("animation","none"),a},isAnimating:function(t){let a=i(t);return this.config.animationClasses.some(t=>a.hasClass(t))},replay:function(t){let a=i(t),n=[];return this.config.animationClasses.forEach(t=>{a.hasClass(t)&&n.push(t)}),a.removeClass(n.join(" ")),setTimeout(()=>{a.addClass(n.join(" "))},10),a}};i.fn.mtAnimate=function(t,...a){return"string"==typeof t&&"function"==typeof e[t]?e[t](this,...a):"string"==typeof t&&e.config.animationClasses.includes(t)?e.animate(this,t,a[0]):this},i(document).ready(function(){i("body").hasClass("mt-animations-enabled")&&(e.init(),window.MTAnimations=e)}),i(document).ajaxComplete(function(t,a,n){i("body").hasClass("mt-animations-enabled")&&setTimeout(()=>{e.initScrollReveal(),e.initStaggerAnimations(),e.initDynamicAnimations()},100)})})(jQuery);