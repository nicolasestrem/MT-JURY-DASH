jQuery(document).ready(function(o){o("#upload_header_image").on("click",function(t){t.preventDefault(),n||(n=wp.media({title:mt_settings_i18n&&mt_settings_i18n.media?mt_settings_i18n.media.title:"Choose Header Background Image",button:{text:mt_settings_i18n&&mt_settings_i18n.media?mt_settings_i18n.media.button:"Use this image"},multiple:!1,library:{type:"image"}})).on("select",function(){var t=n.state().get("selection").first().toJSON(),e=(o("#header_image_url").val(t.url),o("#header_image_preview")),a=o(".mt-image-preview"),e=(e.attr("src",t.url),a.show(),a.find(".mt-clear-image"));0===e.length?(t=mt_settings_i18n&&mt_settings_i18n.media?mt_settings_i18n.media.remove:"Remove Image",a.append(' <button type="button" class="button mt-clear-image" style="margin-top: 10px;">'+t+"</button>")):e.show(),o('input[name="submit"]').prop("disabled",!1)}),n.open()}),o(document).on("click",".mt-clear-image",function(t){t.preventDefault(),o("#header_image_url").val(""),o("#header_image_preview").attr("src",""),o(".mt-image-preview").hide(),o(this).hide(),o('input[name="submit"]').prop("disabled",!1)});var n,t,e=o('input[name="mt_candidate_presentation[enable_animations]"]');o('input[name="mt_candidate_presentation[enable_hover_effects]"]'),e.length&&(t=mt_settings_i18n&&mt_settings_i18n.media?mt_settings_i18n.media.preview:"Preview Animation",e.parent().append(' <button type="button" class="button button-small mt-preview-animation">'+t+"</button>")),o(document).on("click",".mt-preview-animation",function(t){t.preventDefault();var e=o(this);e.addClass("mt-animate-preview"),setTimeout(function(){e.removeClass("mt-animate-preview")},1e3)}),o('input[name="mt_dashboard_settings[primary_color]"]').on("change",function(){var t=o(this).val();o(".mt-color-preview-primary").css("background-color",t)}),o('input[name="mt_dashboard_settings[secondary_color]"]').on("change",function(){var t=o(this).val();o(".mt-color-preview-secondary").css("background-color",t)}),o("form").on("submit",function(t){var e,a,n={courage:parseFloat(o('input[name="weight_courage"]').val()),innovation:parseFloat(o('input[name="weight_innovation"]').val()),implementation:parseFloat(o('input[name="weight_implementation"]').val()),relevance:parseFloat(o('input[name="weight_relevance"]').val()),visibility:parseFloat(o('input[name="weight_visibility"]').val())};for(e in n)if(isNaN(n[e])||n[e]<0||10<n[e])return a=mt_settings_i18n&&mt_settings_i18n.validation?mt_settings_i18n.validation.weights:"Please enter valid weights between 0 and 10",alert(a),t.preventDefault(),!1;if(o('input[name="mt_remove_data_on_uninstall"]').is(":checked")){var i=mt_settings_i18n&&mt_settings_i18n.validation?mt_settings_i18n.validation.data_deletion_warning:"WARNING: You have enabled data deletion on uninstall. This will permanently delete all plugin data when the plugin is removed. Are you sure?";if(!confirm(i))return t.preventDefault(),!1}}),o("head").append("<style>.mt-animate-preview {    animation: mt-preview-pulse 1s ease-in-out;}@keyframes mt-preview-pulse {    0% { transform: scale(1); }    50% { transform: scale(1.1); background-color: #C1693C; color: white; }    100% { transform: scale(1); }}.mt-color-preview-primary, .mt-color-preview-secondary {    display: inline-block;    width: 30px;    height: 30px;    border-radius: 4px;    margin-left: 10px;    vertical-align: middle;    border: 1px solid #ccc;}</style>"),o(document).on("click",".mt-preview-animation-speed",function(t){t.preventDefault();t=o("#animation_speed").val();let e=o('<div class="mt-animation-preview-box">Animation Preview</div>');o(".mt-animation-preview-box").remove(),o(this).after(e),e.addClass("mt-anim-"+t+" mtFadeInUp"),setTimeout(function(){e.fadeOut(function(){o(this).remove()})},2e3)}),o(document).on("click",".mt-preview-animation-style",function(t){t.preventDefault();t=o("#animation_style").val();let e=o('<div class="mt-animation-preview-box">Animation Preview</div>');o(".mt-animation-preview-box").remove(),o(this).after(e);e.addClass({fade:"mtFadeIn",slide:"mtSlideInLeft",zoom:"mtZoomIn",rotate:"mtRotateIn",flip:"mtFlipInY",bounce:"mtZoomInBounce"}[t]||"mtFadeIn"),setTimeout(function(){e.fadeOut(function(){o(this).remove()})},2e3)});o("head").append("<style>.mt-animation-preview-box {    display: inline-block;    margin-left: 10px;    padding: 10px 20px;    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);    color: white;    border-radius: 5px;    font-weight: bold;    box-shadow: 0 4px 6px rgba(0,0,0,0.1);}@keyframes mtFadeIn { from { opacity: 0; } to { opacity: 1; } }@keyframes mtFadeInUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }@keyframes mtSlideInLeft { from { opacity: 0; transform: translateX(-20px); } to { opacity: 1; transform: translateX(0); } }@keyframes mtZoomIn { from { opacity: 0; transform: scale(0.8); } to { opacity: 1; transform: scale(1); } }@keyframes mtRotateIn { from { opacity: 0; transform: rotate(-180deg) scale(0.8); } to { opacity: 1; transform: rotate(0) scale(1); } }@keyframes mtFlipInY { from { opacity: 0; transform: perspective(600px) rotateY(90deg); } to { opacity: 1; transform: perspective(600px) rotateY(0); } }@keyframes mtZoomInBounce {    0% { opacity: 0; transform: scale(0.3); }    50% { transform: scale(1.05); }    70% { transform: scale(0.95); }    100% { opacity: 1; transform: scale(1); }}.mtFadeIn { animation: mtFadeIn 0.5s ease forwards; }.mtFadeInUp { animation: mtFadeInUp 0.5s ease forwards; }.mtSlideInLeft { animation: mtSlideInLeft 0.5s ease forwards; }.mtZoomIn { animation: mtZoomIn 0.5s ease forwards; }.mtRotateIn { animation: mtRotateIn 0.5s ease forwards; }.mtFlipInY { animation: mtFlipInY 0.5s ease forwards; }.mtZoomInBounce { animation: mtZoomInBounce 0.8s ease forwards; }.mt-anim-instant { animation-duration: 0.1s !important; }.mt-anim-fast { animation-duration: 0.2s !important; }.mt-anim-normal { animation-duration: 0.3s !important; }.mt-anim-slow { animation-duration: 0.5s !important; }.mt-anim-slower { animation-duration: 0.8s !important; }</style>")});