!function(t){"use strict";window.MTEventManager={namespace:"mt",events:[],init:function(){this.setupCleanup(),this.trackEvents()},on:function(n,e,o,c="global"){const s=n+"."+this.namespace+"_"+c;t(document).off(s,e),t(document).on(s,e,o),this.events.push({event:s,selector:e,context:c})},off:function(n="global"){this.events=this.events.filter(function(e){return e.context!==n||(t(document).off(e.event,e.selector),!1)})},offAll:function(){t(document).off("."+this.namespace),t(document).off("."+this.namespace+"_admin"),t(document).off("."+this.namespace+"_frontend"),t(document).off("."+this.namespace+"_global"),this.events=[]},setupCleanup:function(){const n=this;t(window).on("beforeunload."+this.namespace,function(){n.offAll()}),"undefined"!=typeof wp&&wp.heartbeat&&t(document).on("heartbeat-tick."+this.namespace,function(){n.pageChanged()&&n.offAll()})},trackEvents:function(){window.MT_DEBUG&&setInterval(function(){performance&&performance.memory},3e4)},pageChanged:function(){const t=window.location.href;return this.lastUrl&&this.lastUrl!==t?(this.lastUrl=t,!0):(this.lastUrl=t,!1)},delegate:function(t,n,e,o){const c=this.namespace+"_delegate_"+Date.now();t.off(n+"."+c,e),t.on(n+"."+c,e,o)},once:function(n,e,o){const c=this,s=n+"."+this.namespace+"_once";t(document).one(s,e,function(t){o.call(this,t),c.events=c.events.filter(function(t){return t.event!==s})}),this.events.push({event:s,selector:e,context:"once"})},throttle:function(t,n,e,o=250){let c;this.on(t,n,function(t){c||(e.call(this,t),c=setTimeout(function(){c=null},o))})},debounce:function(t,n,e,o=250){let c;this.on(t,n,function(t){clearTimeout(c);const n=this,s=arguments;c=setTimeout(function(){e.apply(n,s)},o)})}},t(document).ready(function(){MTEventManager.init()})}(jQuery);